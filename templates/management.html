{% extends "base.html" %}
{% block title %}Wallet Notes - Management{% endblock %}
{% block active_management %}active{% endblock %}
{% block content %}
<div id="management-page">
  <h3>Management</h3>
  <ul class="nav nav-tabs">
    <li class="nav-item">
      <a class="nav-link active" data-bs-toggle="tab" href="#income-categories">Income Categories</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" data-bs-toggle="tab" href="#outcome-categories">Outcome Categories</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" data-bs-toggle="tab" href="#recurring-transactions">Recurring Transactions</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" data-bs-toggle="tab" href="#budget">Budget</a>
    </li>
  </ul>
  
  <div class="tab-content mt-3">
    <!-- Income Categories -->
    <div class="tab-pane fade show active" id="income-categories">
      <button class="btn btn-primary mb-3" onclick="openAddIncomeCategoryModal()">Add Income Category</button>
      <table class="table table-bordered">
        <thead>
          <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody id="income-categories-table">
          {% for c in categories %}
          <tr>
            <td>{{ t.name }}</td>
            <td>{{ t.type }}</td>
            <td>
              <button class="btn btn-danger btn-sm" onclick="deleteCategory({{ forloop.counter0 }})">Delete</button>
            </td>
          </tr>
          {% empty %}
          <tr><td colspan="5" class="text-center">No transactions available</td></tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    
    <!-- Outcome Categories -->
    <div class="tab-pane fade" id="outcome-categories">
      <button class="btn btn-primary mb-3" onclick="openAddOutcomeCategoryModal()">Add Outcome Category</button>
      <table class="table table-bordered">
        <thead>
          <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody id="outcome-categories-table"></tbody>
      </table>
    </div>
    
    <!-- Recurring Transactions -->
    <div class="tab-pane fade" id="recurring-transactions">
      <button class="btn btn-primary mb-3" onclick="openAddRecurringTransactionModal()">Add Recurring Transaction</button>
      <table class="table table-bordered">
        <thead>
          <tr>
            <th>Day of Month</th>
            <th>Type</th>
            <th>Budget Amount</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody id="recurring-transactions-table"></tbody>
      </table>
    </div>
    
    <!-- Budget -->
    <div class="tab-pane fade" id="budget">
      <button class="btn btn-primary mb-3" onclick="openAddBudgetModal()">Add Budget</button>
      <table class="table table-bordered">
        <thead>
          <tr>
            <th>Year-Month</th>
            <th>Budget Amount</th>
            <th>Remaining Amount</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody id="budget-table"></tbody>
      </table>
    </div>
  </div>
</div>
{% endblock %}
